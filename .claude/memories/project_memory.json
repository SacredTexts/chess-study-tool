{
  "memories": [
    {
      "type": "tech_decision",
      "content": "Architecture: DOM extraction on chess.com (primary, 100% accurate) via chrome.scripting.executeScript — injects fresh each capture because SPA navigation breaks persistent content script channels. Manifest content script only for middle-click listener (persistent). Vision API fallback for non-chess.com sites. Stockfish: Lichess Cloud Eval primary, Chess-API.com fallback. Vision providers: Anthropic Direct, OpenRouter, BigModel (GLM-4V). Alt+S shortcut registered via Chrome Commands API.",
      "added_at": "2026-02-04T05:57:00.000000"
    },
    {
      "type": "preference",
      "content": "Version in 3 spots: manifest.json, panel.html (header badge + settings footer), panel.js comment. Bug fixes use .1 increments. Update CHANGELOG.md with every version bump. User prefers concise diagnostic info. Learning output style with Insight blocks. Default provider: OpenRouter with google/gemini-3-flash-preview. Icon: blue-pink gradient outline knight, no background. Current version: v3.7.0.",
      "added_at": "2026-02-04T06:08:00.000000"
    },
    {
      "type": "completed_feature",
      "content": "v3.0-3.5: Elo-based move selection (softmax, slider 800-2400), .env.local loader, compact header with Capture/Toggle/Settings/Close, OpenRouter models (Gemini 3 Pro/Flash, Opus 4.5). v3.6-3.7: Chess.com DOM extraction with shadow DOM support, middle-click capture via content script, 'DOM read' vs 'Vision AI' source label, blue-pink gradient knight icon.",
      "added_at": "2026-02-04T06:08:00.000000"
    },
    {
      "type": "known_issue",
      "content": "Vision API returns wrong FENs from full-page screenshots (ads/sidebars confuse model). DOM extraction bypasses this on chess.com. Vision path still unreliable for other sites — potential improvements: pixel-based board crop, prompt engineering, multi-model consensus. Middle-click capture may not register if user doesn't reload extension + refresh chess.com page after updates.",
      "added_at": "2026-02-04T06:22:00.000000"
    }
  ],
  "manual_memories": [],
  "realtime_memories": [
    {
      "type": "claude_response",
      "content": "Got it — personal use only, bundle everything.\n\nOne thing to flag before we proceed: **Modern Chrome (75+) blocks side-loading `.crx` files** unless you use enterprise policy or developer mode. On you",
      "added_at": "2026-02-04T06:38:39.634800",
      "source": "realtime_capture"
    },
    {
      "type": "message",
      "content": "zip is fine and name it chess-study-tool",
      "added_at": "2026-02-04T06:38:39.634849",
      "source": "realtime_capture"
    },
    {
      "type": "claude_response",
      "content": "`★ Insight ─────────────────────────────────────`\nThe code reviewer confirmed all changes are clean — no broken references, no orphaned CSS, proper event wiring. The defensive `if` guards on `turnDisp",
      "added_at": "2026-02-04T07:12:11.241209",
      "source": "realtime_capture"
    },
    {
      "type": "message",
      "content": "in the white / dark switch - remove the text and make more space between the green dot and the switch so everything on the header is evenly spaced",
      "added_at": "2026-02-04T07:12:11.241245",
      "source": "realtime_capture"
    },
    {
      "type": "claude_response",
      "content": "Done. Here's what changed in **v3.8.1**:\n\n| Change | Detail |\n|--------|--------|\n| **Engine note restored** | \"Engine prefers e2→e4\" appears as a second row below the move widget, white text with `#6",
      "added_at": "2026-02-04T07:25:11.565952",
      "source": "realtime_capture"
    },
    {
      "type": "message",
      "content": "zip the extension",
      "added_at": "2026-02-04T07:25:11.565976",
      "source": "realtime_capture"
    }
  ],
  "created_at": "2026-01-26T22:12:09.555540",
  "updated_at": "2026-02-04T07:25:11.565978"
}